{"version":3,"sources":["webpack:///./src/components/mpvue-echarts/src/echarts.vue","webpack:///./src/components/mpvue-echarts/src/echarts.vue?3406","webpack:///./src/components/mpvue-echarts/src/echarts.vue?875d","webpack:///./src/components/mpvue-echarts/src/echarts.vue?3786","webpack:///./src/components/mpvue-echarts/src/echarts.vue?4329","webpack:///./src/components/mpvue-echarts/src/echarts.vue?30dd","webpack:///./src/components/mpvue-echarts/src/echarts.vue?1b53"],"names":["props","onInit","required","type","Function","default","canvasId","String","lazyLoad","Boolean","disableTouch","throttleTouch","onReady","init","methods","console","warn","ctx","wx","createCanvasContext","canvas","WxCanvas","query","createSelectorQuery","in","select","boundingClientRect","res","setTimeout","chart","width","height","exec","canvasToTempFilePath","opt","draw","touchStart","e","mp","touches","length","touch","_zr","handler","dispatch","zrX","x","zrY","y","touchMove","lastMoveTime","currMoveTime","Date","now","touchEnd","changedTouches"],"mappings":"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","file":"components/mpvue-echarts/src/echarts.js","sourcesContent":["//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport WxCanvas from './wx-canvas';\r\n\r\nexport default {\r\n  props: {\r\n    onInit: {\r\n      required: true,\r\n      type: Function,\r\n      default: null,\r\n    },\r\n    canvasId: {\r\n      type: String,\r\n      default: 'ec-canvas',\r\n    },\r\n    lazyLoad: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    disableTouch: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    throttleTouch: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n\r\n\r\n\r\n\r\n\r\n\r\n\tonReady() {\r\n\t\tif (!this.lazyLoad) this.init();\r\n\t},\r\n\r\n  methods: {\r\n    init() {\r\n      if (!this.onInit) {\r\n        console.warn('请传入 onInit 函数进行初始化');\r\n        return;\r\n      }\r\n\r\n      const { canvasId } = this;\r\n      this.ctx = wx.createCanvasContext(canvasId, this);\r\n\r\n      const canvas = new WxCanvas(this.ctx, canvasId);\r\n\r\n      const query = wx.createSelectorQuery().in(this);\r\n      query.select(`#${canvasId}`).boundingClientRect((res) => {\r\n        if (!res) {\r\n          setTimeout(() => this.init(), 50);\r\n          return;\r\n        }\r\n        this.chart = this.onInit(canvas, res.width, res.height);\r\n      }).exec();\r\n    },\r\n    canvasToTempFilePath(opt) {\r\n      const { canvasId } = this;\r\n      this.ctx.draw(true, () => {\r\n        wx.canvasToTempFilePath({\r\n          canvasId,\r\n          ...opt,\r\n        });\r\n      });\r\n    },\r\n    touchStart(e) {\r\n      const { disableTouch, chart } = this;\r\n      if (disableTouch || !chart || !e.mp.touches.length) return;\r\n      const touch = e.mp.touches[0];\r\n      chart._zr.handler.dispatch('mousedown', {\r\n        zrX: touch.x,\r\n        zrY: touch.y,\r\n      });\r\n      chart._zr.handler.dispatch('mousemove', {\r\n        zrX: touch.x,\r\n        zrY: touch.y,\r\n      });\r\n    },\r\n    touchMove(e) {\r\n      const {\r\n        disableTouch, throttleTouch, chart, lastMoveTime,\r\n      } = this;\r\n      if (disableTouch || !chart || !e.mp.touches.length) return;\r\n\r\n      if (throttleTouch) {\r\n        const currMoveTime = Date.now();\r\n        if (currMoveTime - lastMoveTime < 240) return;\r\n        this.lastMoveTime = currMoveTime;\r\n      }\r\n\r\n      const touch = e.mp.touches[0];\r\n      chart._zr.handler.dispatch('mousemove', {\r\n        zrX: touch.x,\r\n        zrY: touch.y,\r\n      });\r\n    },\r\n    touchEnd(e) {\r\n      const { disableTouch, chart } = this;\r\n      if (disableTouch || !chart) return;\r\n      const touch = e.mp.changedTouches ? e.mp.changedTouches[0] : {};\r\n      chart._zr.handler.dispatch('mouseup', {\r\n        zrX: touch.x,\r\n        zrY: touch.y,\r\n      });\r\n      chart._zr.handler.dispatch('click', {\r\n        zrX: touch.x,\r\n        zrY: touch.y,\r\n      });\r\n    },\r\n  },\r\n};\r\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./echarts.vue?vue&type=template&id=5bae5a90&scoped=true&\"\nimport script from \"./echarts.vue?vue&type=script&lang=js&\"\nexport * from \"./echarts.vue?vue&type=script&lang=js&\"\nimport style0 from \"./echarts.vue?vue&type=style&index=0&id=5bae5a90&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5bae5a90\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\云锐科技\\\\seconday\\\\my-project\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('5bae5a90', component.options)\n    } else {\n      api.reload('5bae5a90', component.options)\n    }\n    module.hot.accept(\"./echarts.vue?vue&type=template&id=5bae5a90&scoped=true&\", function () {\n      api.rerender('5bae5a90', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/mpvue-echarts/src/echarts.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./echarts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./echarts.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./echarts.vue?vue&type=style&index=0&id=5bae5a90&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./echarts.vue?vue&type=style&index=0&id=5bae5a90&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./echarts.vue?vue&type=template&id=5bae5a90&scoped=true&\""],"sourceRoot":""}