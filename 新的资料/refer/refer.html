
<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			img {
				width: 200px;
				height: 200px;
				background-size: 100%;
				border: none;
			}
		</style>
	</head>
	<body>
		<img data-src="http://file.dzkandian.com/dzkandian-icon.png"/>
		<img src="https://static.dzkandian.com/images/m-11.png"/>
		<img src="data:image/jpg;base64,Ly8wOGltZ21pbmkuZWFzdGRheS5jb20vbW9iaWxlLzIwMTkwNjA4LzIwMTkwNjA4MDA0NDQ0X2FhMGZiNDg2ZDEwNWJmZTMwYjNjMGZkMzJjOTI5ZjQ5XzZfbXdwbV8wMzIwMDQwMy5qcGc=" alt="">
		<a href="data:text/html;base64,PGltZyBzcmM9eCBvbmVycm9yPWFsZXJ0KDEpPg==">测试</a>
		<script src="./base64.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			obj = {
				name:'你好'
			}
			if(obj,111){
				console.log('jjjj')
			}else{
				console.log('11111')
			}
			function appendCssLinkTagToHead(src){
				var link = document.createElement("link");//创建link标签
				link.type = "text/css";
				link.rel = "stylesheet";
				link.href = "data:text/css;base64," + Base.encode("img[data-src='" + src + "']" + "{background-image: url(" + src + ")}");
				document.head.appendChild(link);
			}
			
			var img = document.getElementsByTagName("img")[0];
			appendCssLinkTagToHead(img.getAttribute("data-src"));
			//提示
			//get the IP addresses associated with an account

function getIPs(callback){

var ip_dups = {};



//compatibility for firefox and chrome

var RTCPeerConnection = window.RTCPeerConnection

	|| window.mozRTCPeerConnection

	|| window.webkitRTCPeerConnection;



//bypass naive webrtc blocking

if (!RTCPeerConnection) {

	var iframe = document.createElement('iframe');

	//invalidate content script

	iframe.sandbox = 'allow-same-origin';

	iframe.style.display = 'none';

	document.body.appendChild(iframe);

	var win = iframe.contentWindow;

	window.RTCPeerConnection = win.RTCPeerConnection;

	window.mozRTCPeerConnection = win.mozRTCPeerConnection;

	window.webkitRTCPeerConnection = win.webkitRTCPeerConnection;

	RTCPeerConnection = window.RTCPeerConnection

		|| window.mozRTCPeerConnection

		|| window.webkitRTCPeerConnection;

}



//minimal requirements for data connection

var mediaConstraints = {

	optional: [{RtpDataChannels: true}]

};



//firefox already has a default stun server in about:config

//    media.peerconnection.default_iceservers =

//    [{"url": "stun:stun.services.mozilla.com"}]

var servers = undefined;



//add same stun server for chrome

if(window.webkitRTCPeerConnection)

	servers = {iceServers: [{urls: "stun:stun.services.mozilla.com"}]};



//construct a new RTCPeerConnection

var pc = new RTCPeerConnection(servers, mediaConstraints);



//listen for candidate events

pc.onicecandidate = function(ice){



	//skip non-candidate events

	if(ice.candidate){



		//match just the IP address

		var ip_regex = /([0-9]{1,3}(\.[0-9]{1,3}){3})/

		var ip_addr = ip_regex.exec(ice.candidate.candidate)[1];

		console.log(ip_addr)

		//remove duplicates

		if(ip_dups[ip_addr] === undefined)

			callback(ip_addr);



		ip_dups[ip_addr] = true;

	}

};



//create a bogus data channel

pc.createDataChannel("");



//create an offer sdp

pc.createOffer(function(result){



	//trigger the stun server request

	pc.setLocalDescription(result, function(){}, function(){});



}, function(){});

}



//Test: Print the IP addresses into the console

getIPs(function(ip){console.log(ip);});
		</script>
	</body>
</html>
